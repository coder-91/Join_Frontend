<form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
  @if (!contact) {
    <h1>Add Contact</h1>
  }
  @if (contact) {
    <h1>Edit Contact</h1>
  }

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput type="email" formControlName="email" placeholder="Ex. pat@example.com ">
    @if (contactForm.get('email')?.touched) {
      <mat-error>
        @switch (true) {
          @case (contactForm.get('email')?.hasError('required'))
          { Email is required }
          @case (contactForm.get('email')?.hasError('email'))
          { Please enter a valid email }
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field>
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" type="text">
    @if (contactForm.get('name')?.touched) {
      <mat-error>
        @switch (true) {
          @case (contactForm.get('name')?.hasError('required'))
          { Name is required }
          @case (contactForm.get('name')?.hasError('minlength'))
          { Name must be at least 2 characters in length }
        }
      </mat-error>
    }
  </mat-form-field>

  <mat-form-field>
    <mat-label>Phone</mat-label>
    <input matInput formControlName="phoneNumber" type="tel">
    @if (contactForm.get('phoneNumber')?.touched) {
      <mat-error>
        @switch (true) {
          @case (contactForm.get('phoneNumber')?.hasError('required'))
          { Phone number is required }
        }
      </mat-error>
    }
  </mat-form-field>

  <div class="button-box">
    <button mat-raised-button color="primary" type="submit" [disabled]="!contactForm.valid">
      <span>{{contact? 'Save': 'Create'}}</span>
    </button>

    <button mat-raised-button type="button" (click)="onCancel()">
      Cancel
    </button>
  </div>
</form>
